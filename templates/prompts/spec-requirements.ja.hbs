# 機能要件の生成

機能仕様の詳細な要件を作成したいと思います。包括的な機能要件と非機能要件の生成にご協力ください。

## 機能情報
- **機能名**: {{FEATURE_NAME}}
- **プロジェクト名**: {{PROJECT_NAME}}
- **仕様パス**: {{SPEC_PATH}}

## コンテキスト
{{#if EXISTING_SPEC}}
機能概要と初期分析を含む既存の仕様書があります。この基盤を元に詳細な要件を作成してください。
{{else}}
これは要件ファーストアプローチです。提供された機能説明に基づいて要件を作成してください。
{{/if}}

## 機能詳細
{{FEATURE_DETAILS}}

## 現在の理解
{{#if CURRENT_ANALYSIS}}
現在の仕様分析に基づく：
{{CURRENT_ANALYSIS}}
{{/if}}

## 依頼内容

以下を含む包括的な要件書を生成してください：

### 1. 機能要件
- 機能が提供しなければならないコア機能
- ユーザーインタラクションとワークフロー
- データ処理および処理要件
- 既存システムとの統合ポイント
- 入力/出力仕様

### 2. 非機能要件
- パフォーマンス要件（応答時間、スループット）
- セキュリティ要件
- スケーラビリティ考慮事項
- ユーザビリティ要件
- 互換性要件
- 信頼性と可用性要件

### 3. ビジネスルール
- 検証ルール
- ビジネスロジック制約
- ワークフロールール
- データ整合性要件

### 4. 技術的制約
- 技術スタックの制限
- プラットフォーム要件
- サードパーティ依存関係
- アーキテクチャ制約

### 5. 受入基準
- 各要件の明確でテスト可能な基準
- 成功指標
- エッジケースとエラー条件

## 期待する出力形式

要件書を以下のように構造化してください：
```markdown
# 要件: [機能名]

## 概要
[構築する内容の簡潔な要約]

## 機能要件
### FR-001: [要件タイトル]
**説明**: [明確な説明]
**優先度**: 高/中/低
**受入基準**:
- [ ] 基準1
- [ ] 基準2

## 非機能要件
### NFR-001: [要件タイトル]
**説明**: [明確な説明]
**指標**: [測定可能な基準]
**優先度**: 高/中/低

## ビジネスルール
### BR-001: [ルールタイトル]
**説明**: [ルール説明]
**影響**: [違反した場合に起こること]

## 技術的制約
### TC-001: [制約タイトル]
**説明**: [制約の説明]
**根拠**: [この制約が存在する理由]
```

すべての要件が以下の要件を満たすことを確認してください：
- **具体的**: 明確で曖昧さがない
- **測定可能**: 可能な限り定量化可能な基準を含める
- **達成可能**: プロジェクト制約内で技術的に実現可能
- **関連性**: ビジネス目標と整合している
- **期限付き**: 時間的制約がある場合は含める

要件生成後、次のステップは`/kiro:spec-design {{FEATURE_NAME}}`を使用した設計です。

---

*このプロンプトはKiroスタイルSpec-Driven Developmentワークフローの一部です。*